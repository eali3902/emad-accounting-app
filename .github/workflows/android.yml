name: Build Android App

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    
    steps:
    # ุงูุฎุทูุฉ 1: ุชุญููู ุงูููุฏ
    - name: ๐ฅ ุชุญููู ุงูููุฏ
      uses: actions/checkout@v3
    
    # ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุชุทุจูู ุจุณูุท
    - name: ๐๏ธ ุฅูุดุงุก ุงูุชุทุจูู
      run: |
        echo "๐ ุจุฏุก ุจูุงุก ุชุทุจูู Android..."
        
        # ุชุฃูุฏ ูู ูุฌูุฏ index.html
        if [ ! -f "index.html" ]; then
          echo "โ ุฎุทุฃ: ููู index.html ุบูุฑ ููุฌูุฏ!"
          echo "๐ ุฅูุดุงุก ููู HTML ุจุณูุท..."
          cat > index.html << 'HTML'
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุนูุงุฏ ุงููุญุงุณุจู</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; text-align: center; }
        .container { max-width: 800px; margin: 50px auto; background: white; padding: 30px; border-radius: 15px; }
        h1 { color: #2c5f2d; }
        .btn { display: block; width: 90%; margin: 15px auto; padding: 15px; background: #2c5f2d; color: white; border: none; border-radius: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ูุธุงู ุนูุงุฏ ุนูู ุงููุญุงุณุจู</h1>
        <p>ุชุทุจูู ูุญุงุณุจุฉ ูุชูุงูู ูุฃูุฏุฑููุฏ</p>
        <button class="btn">ุฅุฏุงุฑุฉ ุงูุนููุงุก</button>
        <button class="btn">ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช</button>
        <button class="btn">ุงููุจูุนุงุช</button>
        <button class="btn">ุงูุชูุงุฑูุฑ</button>
        <p style="margin-top: 30px; color: #666;">โ ุชู ุงูุจูุงุก ุจูุฌุงุญ via GitHub Actions</p>
    </div>
</body>
</html>
HTML
        fi
        
        # ุฅูุดุงุก ูุฌูุฏ ููุจูุงุก
        mkdir -p dist
        
        # ูุณุฎ ุงููููุงุช
        cp index.html dist/
        
        # ุฅูุดุงุก ููู README
        echo "๐ ุชู ุจูุงุก ุชุทุจูู ุนูุงุฏ ุงููุญุงุณุจู" > dist/README.txt
        echo "ุชุงุฑูุฎ ุงูุจูุงุก: $(date)" >> dist/README.txt
        echo "ุงูููู ุงูุฑุฆูุณู: index.html" >> dist/README.txt
        
        # ุฅูุดุงุก ููู ZIP
        cd dist
        zip -r ../emad-app.zip *
        
        echo "โ ุชู ุจูุงุก ุงูุชุทุจูู ุจูุฌุงุญ!"
        echo "๐ ุชู ุฅูุดุงุก: emad-app.zip"
    
    # ุงูุฎุทูุฉ 3: ุฑูุน ุงูููู ุงููุงุชุฌ
    - name: ๐ค ุฑูุน ุงูููู ุงููุงุชุฌ
      uses: actions/upload-artifact@v3
      with:
        name: android-app
        path: emad-app.zip
    
    # ุงูุฎุทูุฉ 4: ุฅุดุนุงุฑ ุงููุฌุงุญ
    - name: ๐ ุฅุดุนุงุฑ ุงููุฌุงุญ
      run: |
        echo "========================================"
        echo "๐ BUILD SUCCESSFUL!"
        echo "๐ฑ ููููู ุชุญููู ุงูุชุทุจูู ูู Artifacts"
        echo "โฑ๏ธ ุงูููุช: $(date)"
        echo "========================================"
